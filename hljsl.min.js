var hljsl=function(){"use strict";return new class{#e=!0;#t=!1;#s="en-us";#n=!0;#o="";#i=null;#r="1.0.0";constructor(){this.#a(),this.#s=this.getUserLanguage(),this.#l(),console.log(this.#e,this.#n,this.#t)}#c(e,t){e.forEach((e=>{e.isIntersecting&&(t.disconnect(),this.highlight(e.target))}))}createId(){return`${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`.toUpperCase()}connect(){if(this.#i)return;const e=new Worker(`${this.#o}/hljsl-worker.min.js`);e.onmessage=this.#h.bind(this),this.#i=e}copyToClipboard(e){const t=e.nextElementSibling;if("TABLE"!==t.nodeName)return;e.ariaPressed=!0,t.classList.add("copy-to-clipboard");const s=t.querySelectorAll("tr td:nth-child(2)"),n=document.createElement("div");s.forEach((e=>{n.textContent+=`${e.textContent}\n`})),navigator.clipboard.writeText(n.textContent.trimEnd()).catch((e=>{console.error("Failed to copy text to clipboard:",e)})),setTimeout((()=>{t.classList.remove("copy-to-clipboard"),e.ariaPressed=!1}),500)}async#d(e){let t=0,s=!0;const n=e.innerText.split("\n");n.forEach(((e,o)=>{if(0===t&&s&&0!==e.length){const n=e.match(/^\s+/);t=n?n[0].length:0,s=!1}n[o]=e.substring(t)})),e.innerText=n.join("\n").trimEnd()}disconnect(){this.#i&&(this.#i.terminate(),this.#i=null)}async#u(){const e=document.styleSheets;for(let t=0;t<e.length;t++){const{href:s}=e[t];if(s.includes("/hljsl"))return}const t=document.createElement("link");t.rel="stylesheet",t.href=`${this.#o}/hljsl.min.css`,document.head.appendChild(t)}getUserLanguage(){let e=navigator.language||navigator.userLanguage;const t=document.documentElement.lang;if(t){/^[a-zA-Z]{2}(-[a-zA-Z]{2})?$/.test(t)&&(e=t)}return e}getVersion(){return this.#r}highlight(e){if(this.isConnected()||this.connect(),e.hasAttribute("hljsl-id"))return;e.parentElement.classList.add("hljs"),e.dataset.hljslId=this.createId();const t={code:e.innerText,codeLang:e.classList.toString(),id:e.dataset.hljslId,pageLang:this.#s,root:this.#o};this.#i.postMessage(JSON.stringify(t))}highlightAll(e){e||(e=document);e.querySelectorAll("pre code").forEach((e=>{this.highlight(e)}))}#a(){this.#o=window?.location?.origin;let e="";const t=document.getElementsByTagName("script");for(let s=0;s<t.length;s++){const{src:n}=t[s];if(n.includes("/hljsl")){n.indexOf("?")&&(e=n.substring(n.indexOf("?"))),this.#o=n.substring(0,n.indexOf("/hljsl"));break}}const s=new URLSearchParams(e);s.get("autoLoad")&&(this.#e=this.isTrue(s.get("autoLoad"))),s.get("hideNumbers")&&(this.#t=this.isTrue(s.get("hideNumbers"))),s.get("lazyLoad")&&(this.#n=this.isTrue(s.get("lazyLoad")))}isConnected(){return!(null===this.#i)}isTrue(e){switch("string"==typeof e&&(e=e.trim().toLowerCase()),e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}}#l(){const e=new MutationObserver(((e,t)=>{console.log("OBSERVER START");for(let s=0;s<e.length;s++){const n=e[s];if(console.log(n.type,e),"childList"!==n.type)continue;if(console.log("MUT EL",n.target.nodeName),"BODY"!==n.target.nodeName)continue;this.#u();n.target.querySelectorAll("pre code").forEach((async e=>{if(e.parentElement.classList.add("hljs"),this.#t&&e.classList.add("hide-numbers"),await this.#d(e),!this.#e)return;if(!this.#n)return void this.highlight(e);new IntersectionObserver(this.#c.bind(this),{root:null,rootMargin:"100%",threshold:0}).observe(e)})),t.disconnect()}}));console.log("OBSERVER CREATE"),e.observe(document.documentElement,{childList:!0,subtree:!0})}#h(e){const t=JSON.parse(e.data),s=document.querySelector(`[data-hljsl-id="${t.id}"]`);s.innerHTML=t.code.trim(),s.parentElement.innerHTML=s.outerHTML.trim(),s.classList.add(t.language)}}}();
//# sourceMappingURL=hljsl.min.js.map
