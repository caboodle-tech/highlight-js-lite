{"version":3,"file":"hljsl-worker.min.js","sources":["../src/hljsl-worker.js"],"sourcesContent":["/* eslint-disable no-restricted-globals */\n// eslint-disable-next-line max-len\nconst validCodeLanguages = ['1c', 'abnf', 'accesslog', 'actionscript', 'ada', 'angelscript', 'apache', 'applescript', 'arcade', 'arduino', 'armasm', 'asciidoc', 'aspectj', 'autohotkey', 'autoit', 'avrasm', 'awk', 'axapta', 'bash', 'basic', 'bnf', 'brainfuck', 'c', 'cal', 'capnproto', 'ceylon', 'clean', 'clojure-repl', 'clojure', 'cmake', 'coffeescript', 'coq', 'cos', 'cpp', 'crmsh', 'crystal', 'csharp', 'csp', 'css', 'd', 'dart', 'delphi', 'diff', 'django', 'dns', 'dockerfile', 'dos', 'dsconfig', 'dts', 'dust', 'ebnf', 'elixir', 'elm', 'erb', 'erlang-repl', 'erlang', 'excel', 'fix', 'flix', 'fortran', 'fsharp', 'gams', 'gauss', 'gcode', 'gherkin', 'glsl', 'gml', 'go', 'golo', 'gradle', 'graphql', 'groovy', 'haml', 'handlebars', 'haskell', 'haxe', 'hsp', 'http', 'hy', 'inform7', 'ini', 'irpf90', 'isbl', 'java', 'javascript', 'js', 'jboss-cli', 'json', 'julia-repl', 'julia', 'kotlin', 'lasso', 'latex', 'ldif', 'leaf', 'less', 'lisp', 'livecodeserver', 'livescript', 'llvm', 'lsl', 'lua', 'makefile', 'markdown', 'mathematica', 'matlab', 'maxima', 'mel', 'mercury', 'mipsasm', 'mizar', 'mojolicious', 'monkey', 'moonscript', 'n1ql', 'nestedtext', 'nginx', 'nim', 'nix', 'node-repl', 'nsis', 'objectivec', 'ocaml', 'openscad', 'oxygene', 'parser3', 'perl', 'pf', 'pgsql', 'php-template', 'php', 'plaintext', 'pony', 'powershell', 'processing', 'profile', 'prolog', 'properties', 'protobuf', 'puppet', 'purebasic', 'python-repl', 'python', 'q', 'qml', 'r', 'reasonml', 'rib', 'roboconf', 'routeros', 'rsl', 'ruby', 'ruleslanguage', 'rust', 'sas', 'scala', 'scheme', 'scilab', 'scss', 'shell', 'smali', 'smalltalk', 'sml', 'sqf', 'sql', 'stan', 'stata', 'step21', 'stylus', 'subunit', 'swift', 'taggerscript', 'tap', 'tcl', 'thrift', 'tp', 'twig', 'typescript', 'ts', 'vala', 'vbnet', 'vbscript-html', 'vbscript', 'verilog', 'vhdl', 'vim', 'wasm', 'wren', 'x86asm', 'xl', 'xml', 'xquery', 'yaml', 'zephir'];\n\nconst copyToClipboardMap = {\n    af: 'Kopieer kode na knipbord',\n    am: 'ኮድ ኮድ በቁምፊዎች ውስጥ አጽዳ',\n    ar: 'نسخ الكود إلى الحافظة',\n    az: 'Kodunu kopyala',\n    be: 'Скапіраваць код у буфер абмену',\n    bg: 'Копиране на код в клипборда',\n    bn: 'কোড ক্লিপবোর্ডে কপি করুন',\n    bs: 'Kopiraj kod u međuspremnik',\n    ca: 'Copiar el codi al porta-retalls',\n    cs: 'Kopírovat kód do schránky',\n    cy: \"Copïo cod i'r clipfwrdd\",\n    da: 'Kopier kode til udklipsholderen',\n    el: 'Αντιγραφή κώδικα στο πρόχειρο',\n    en: 'Copy code to clipboard',\n    et: 'Kopeeri kood lõikelauale',\n    eu: 'Kodea arbelean kopiatu',\n    fa: 'کپی کد به کلیپ بورد',\n    fi: 'Kopioi koodi leikepöydälle',\n    fil: 'Kopyahin ang code sa clipboard',\n    ga: 'Cóipeáil an cód chuig an ghréasán',\n    gl: 'Copiar o código no portapapeis',\n    gu: 'કોડને ક્લિપબોર્ડ પર કપિ કરો',\n    he: 'העתק קוד ללוח',\n    hi: 'कोड को क्लिपबोर्ड पर कॉपी करें',\n    hr: 'Kopiraj kod u međuspremnik',\n    hu: 'Kód másolása a vágólapra',\n    hy: 'Պատճենել ծրագիրը բֆերում',\n    id: 'Salin kode ke papan klip',\n    is: 'Afrita kóða í klippiborð',\n    it: 'Copia codice negli appunti',\n    ja: 'コードをクリップボードにコピー',\n    ka: 'კოდის კოპირება ბუფერში',\n    kk: 'Кодты буферге көшіру',\n    km: 'ចម្លង​កូដ​ទៅ​ក្ដារ​ប្លុក​កម្មវិធី',\n    kn: 'ಕೋಡ್ ಅನ್ನು ಕ್ಲಿಪ್‌ಬೋರ್ಡ್‌ಗೆ ನಕಲಿಸಿ',\n    ko: '코드를 클립보드에 복사',\n    ku: 'Koda li clipboardê bixwîne',\n    ky: 'Коду буферге көчүр',\n    lo: 'ສຳ ເນົາ ໂຄດ ໃສ່ ບາດປະ ເພດ',\n    lt: 'Kopijuoti kodą į iškarpinę',\n    lv: 'Kopēt kodu uz starpliktuvi',\n    mk: 'Копирајте го кодот во клипборд',\n    ml: 'കോഡ് ക്ലിപ്പ്‌ബോര്‍ഡിലേക്ക് പകർത്തുക',\n    mn: 'Кодыг хавтас руу хуулах',\n    mr: 'कोड क्लिपबोर्डवर कॉपी करा',\n    ms: 'Salin kod ke papan klip',\n    my: 'ကုဒ်ကို clipboard သို့ ကူးယူပါ',\n    ne: 'कोडलाई क्लिपबोर्डमा कपि गर्नुहोस्',\n    nl: 'Code kopiëren naar klembord',\n    nn: 'Kopier kode til utklippstavle',\n    no: 'Kopier kode til utklippstavle',\n    or: 'କୋଡକୁ କ୍ଲିପବୋର୍ଡରେ କପି କରନ୍ତୁ',\n    pa: \"ਕੋਡ ਨੂੰ ਕਲਿੱਪਬੋਰਡ 'ਤੇ ਕਾਪੀ ਕਰੋ\",\n    pl: 'Skopiuj kod do schowka',\n    pt: 'Copiar código para a área de transferência',\n    ro: 'Copiază codul în clipboard',\n    ru: 'Копировать код в буфер обмена',\n    si: 'කේතය ක්ලිප් බෝඩ්යයට පිටුවට අනුකූල කරන්න',\n    sk: 'Kopírovať kód do schránky',\n    sl: 'Kopiraj kodo v odložišče',\n    sq: 'Kopjo kodin në clipboard',\n    sr: 'Копирај код у међуспремник',\n    sv: 'Kopiera kod till urklipp',\n    sw: 'Nakili kanuni kwenye ubao wa kunakili',\n    ta: 'குறியீட்டை கிளிப்போர்டுக்கு நகலிக்கவும்',\n    te: 'కోడ్ను క్లిప్‌బోర్డ్‌కు కాపీ చేయండి',\n    th: 'คัดลอกโค้ดไปยังคลิปบอร์ด',\n    tl: 'Kopyahin ang code sa clipboard',\n    tr: 'Kodu panoya kopyala',\n    uk: 'Скопіювати код у буфер обміну',\n    ur: 'کوڈ کو کلپ بورڈ پر کاپی کریں',\n    uz: 'Kodni joylashtirish saqlab olish',\n    vi: 'Sao chép mã vào clipboard',\n    yo: 'Fikun koodu si afikun',\n    zh: '复制代码到剪贴板',\n    zu: 'Casha ikhodi ekopishweni'\n};\n\nfunction addLineNumbers(code, pageLang = 'en') {\n    // eslint-disable-next-line prefer-destructuring, no-param-reassign\n    pageLang = pageLang.toLowerCase().split('-')[0];\n    let title = copyToClipboardMap.en;\n    if (copyToClipboardMap[pageLang]) {\n        title = copyToClipboardMap[pageLang];\n    }\n    // eslint-disable-next-line max-len\n    let table = `<button type=\"button\" aria-pressed=\"false\" class=\"hljsl-clipboard\" title=\"${title}\" onclick=\"hljsl.copyToClipboard(this);\" onkeydown=\"hljsl.copyToClipboard(this);\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M21 2h-19v19h-2v-21h21v2zm3 2v20h-20v-20h20zm-2 2h-1.93c-.669 0-1.293.334-1.664.891l-1.406 2.109h-6l-1.406-2.109c-.371-.557-.995-.891-1.664-.891h-1.93v16h16v-16zm-3 6h-10v1h10v-1zm0 3h-10v1h10v-1zm0 3h-10v1h10v-1z\"/></svg></button>`;\n    table += '<table class=\"hljsl-table\">\\n<tbody>\\n';\n    const lines = code.trim().split('\\n');\n    lines.forEach((line, i) => {\n        if (line.length === 0) {\n            // eslint-disable-next-line no-param-reassign\n            line = '<br>';\n        }\n        table += `<tr><td>${i + 1}</td><td>${line}</td></tr>\\n`;\n    });\n    return `${table.trim()}</tbody></table>`;\n}\n\nonmessage = (evt) => {\n    const msg = JSON.parse(evt.data);\n    const { id } = msg;\n    const { root } = msg;\n    const { pageLang } = msg;\n    const { code } = msg;\n    let codeLang = msg.codeLang.split(' ');\n    codeLang = codeLang.filter((value) => validCodeLanguages.includes(value));\n\n    importScripts(`${root}/highlight.min.js`);\n\n    let result = '';\n\n    if (codeLang.length === 0 || !codeLang[0]) {\n        result = self.hljs.highlightAuto(code);\n    } else {\n        result = self.hljs.highlightAuto(code, codeLang);\n    }\n\n    const reply = {\n        code: addLineNumbers(result.value, pageLang),\n        id,\n        language: result.language\n    };\n\n    postMessage(JSON.stringify(reply));\n};\n"],"names":["validCodeLanguages","copyToClipboardMap","af","am","ar","az","be","bg","bn","bs","ca","cs","cy","da","el","en","et","eu","fa","fi","fil","ga","gl","gu","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km","kn","ko","ku","ky","lo","lt","lv","mk","ml","mn","mr","ms","my","ne","nl","nn","no","or","pa","pl","pt","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tl","tr","uk","ur","uz","vi","yo","zh","zu","addLineNumbers","code","pageLang","toLowerCase","split","title","table","trim","forEach","line","i","length","onmessage","evt","msg","JSON","parse","data","root","codeLang","filter","value","includes","importScripts","result","self","hljs","highlightAuto","reply","language","postMessage","stringify"],"mappings":"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"}