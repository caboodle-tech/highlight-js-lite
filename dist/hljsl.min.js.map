{"version":3,"file":"hljsl.min.js","sources":["../src/hljsl.js"],"sourcesContent":["let autoRunCompleted = false;\n\n/* eslint-disable no-param-reassign */\nclass HighlightLite {\n\n    #autoLoad = true;\n\n    #hideNumbers = false;\n\n    #ignoreElements = [];\n\n    #lang = 'en-us';\n\n    #lazyLoad = true;\n\n    #onlyAutoProcess = ['body'];\n\n    #root = '';\n\n    #worker = null;\n\n    #version = '1.1.0';\n\n    constructor(config = {}) {\n        this.#initialize();\n        // Set or check for alternative config options.\n        if (Object.keys(config).length === 0) {\n            this.#checkForGlobalConfig();\n        } else {\n            this.setConfig(config);\n        }\n        // Only the primary instance of HLJSL should auto run.\n        if (autoRunCompleted) { return; }\n        autoRunCompleted = true;\n        this.#waitForBody();\n    }\n\n    /**\n     * Watch a block for intersection events and when it appears to be coming up\n     * in the viewport (or already showing), process the block. This is used to\n     * lazy process (load) code blocks.\n     *\n     * @param {Array} entries An array of observed events that have triggered this function.\n     * @param {IntersectionObserver} observer The observer watching this element/event.\n     */\n    #blockInView(entries, observer) {\n        entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n                observer.disconnect(); // Block is about to be processed so stop watching it.\n                this.highlight(entry.target);\n            }\n        });\n    }\n\n    /**\n     * Helper method that checks for and uses the users global config if set.\n     */\n    #checkForGlobalConfig() {\n        const globalConfig = window.hljslConfig;\n        if (!globalConfig) { return; }\n        this.setConfig(globalConfig);\n    }\n\n    /**\n     * Create a unique id.\n     *\n     * @returns {string} A generally unique id.\n     */\n    createId() {\n        return `${Date.now().toString(36)}${Math.random().toString(36).substring(2)}`.toUpperCase();\n    }\n\n    /**\n     * Connect to HLJSL's web worker.\n     *\n     * @returns {void} Used as a short circuit only.\n     */\n    connect() {\n        if (this.#worker) {\n            return;\n        }\n        const worker = new Worker(`${this.#root}/hljsl-worker.min.js`);\n        worker.onmessage = this.#receiveResponse.bind(this);\n        this.#worker = worker;\n    }\n\n    /**\n     * Copy code from a block to the users clipboard.\n     *\n     * @param {HTMLElement} button The copy to clipboard button that was pressed.\n     * @returns {void} Used as a short circuit.\n     */\n    copyToClipboard(button) {\n        const table = button.nextElementSibling;\n        if (table.nodeName !== 'TABLE') { return; }\n        // Visually show the table is being copied.\n        button.ariaPressed = true;\n        table.classList.add('copy-to-clipboard');\n        // Actually copy the table to the users clipboard:\n        const cells = table.querySelectorAll('tr td:nth-child(2)');\n        // Copy data to a temporary div.\n        const tmpDiv = document.createElement('div');\n        cells.forEach((cell) => {\n            tmpDiv.textContent += `${cell.textContent}\\n`;\n        });\n        // Copy the text from the temporary div to the clipboard using the Clipboard API.\n        navigator.clipboard.writeText(tmpDiv.textContent.trimEnd())\n            .catch((error) => {\n                console.error('Failed to copy text to clipboard:', error);\n            });\n        // Remove the visual effect.\n        setTimeout(() => {\n            table.classList.remove('copy-to-clipboard');\n            button.ariaPressed = false;\n        }, 500);\n    }\n\n    /**\n     * Correct the padding of code blocks.\n     *\n     * @param {HTMLElement} elem The code element to process.\n     */\n    async #correctPadding(elem) {\n        // Don't waste time reprocessing a block.\n        if (elem.classList.contains('fixed-padding')) { return; }\n        // We must ignore any empty lines until actual code is encountered.\n        let indentation = 0;\n        let doIndentation = true;\n        // Break the code into their lines for processing.\n        const lines = elem.innerText.split('\\n');\n        // Process each line.\n        lines.forEach((line, i) => {\n            // If we still haven't figured out indentation keep checking.\n            if (indentation === 0 && doIndentation) {\n                if (line.length !== 0) {\n                    /**\n                     * This line has code which indicates the unnecessary indentation\n                     * that HLJSL removes to left align the code perfectly.\n                     */\n                    const match = line.match(/^\\s+/);\n                    indentation = match ? match[0].length : 0;\n                    doIndentation = false;\n                }\n            }\n            // Remove the unnecessary indentation (padding) at the start of each line.\n            lines[i] = line.substring(indentation);\n        });\n        // Make the replacement in the DOM and remove any extra empty new line at the end.\n        elem.innerText = lines.join('\\n').trimEnd();\n        elem.classList.add('fixed-padding');\n    }\n\n    /**\n     * Disconnect from HLJSL's web worker.\n     *\n     * @returns {void} Used as a short circuit.\n     */\n    disconnect() {\n        if (!this.#worker) {\n            return;\n        }\n        this.#worker.terminate();\n        this.#worker = null;\n    }\n\n    /**\n     * Check the status of the page being auto loaded (processed).\n     *\n     * @returns {boolean} True if the primary HLJSL instance auto loaded (processed) the page.\n     */\n    getAutoRunStatus() {\n        return autoRunCompleted;\n    }\n\n    /**\n     * Build the querySelectorAll string to search and find all specified elements.\n     *\n     * @param {array} find An array of element tags, classes prefixed with the css dot (.), and/or\n     *                     ids prefixed with the css pound (#) to locate in the page.\n     *\n     * @returns {string} The querySelectorAll string to locate all your requested elements.\n     */\n    getQuerySelectorFindAllString(find = []) {\n        if (find.length === 0) { return ''; }\n        return find.join(', ');\n    }\n\n    /**\n     * Builds the query string meant to be used with querySelectorAll and allows not searching\n     * within classes, ids, and/or elements.\n     *\n     * @param {string} find The query selector you would like to find.\n     * @param {array} notWithin An array of element tags, classes prefixed with the css dot (.), and/or\n     *                          ids prefixed with the css pound (#) to not search in.\n     *\n     * @returns {string} The proper query selector string to use with querySelectorAll.\n     */\n    getQuerySelectorNotWithinString(find, notWithin = []) {\n        if (notWithin.length === 0) { return find; }\n        const ignoredSelectors = notWithin.join(', ');\n        return `:not(${ignoredSelectors}) > ${find}`;\n    }\n\n    /**\n     * Detect what language the user is viewing the page in.\n     *\n     * @returns {string} The users valid BCP 47 language code.\n     */\n    getUserLanguage() {\n        // Start with the browsers language setting.\n        let userLanguage = navigator.language || navigator.userLanguage;\n        // Check if lang attribute is set in the HTML tag.\n        const htmlLang = document.documentElement.lang;\n        if (htmlLang) {\n            // Check if the lang attribute is a valid BCP 47 language tag.\n            const langRegex = /^[a-zA-Z]{2}(-[a-zA-Z]{2})?$/;\n            if (langRegex.test(htmlLang)) {\n                // Use the language that the developer set instead.\n                userLanguage = htmlLang;\n            }\n        }\n        return userLanguage;\n    }\n\n    /**\n     * Share the version of HLJSL being used.\n     *\n     * @returns  {string} The current version on HLJSL.\n     */\n    getVersion() {\n        return this.#version;\n    }\n\n    /**\n     * Highlight a code element with HLJS using the HLJSL web worker.\n     *\n     * @param {HTMLElement} elem The code element to highlight.\n     */\n    async highlight(elem) {\n        // If the web worker is not connected do so now.\n        if (!this.isConnected()) {\n            /**\n             * NOTE: We do not connect automatically in case this page doesn't\n             * have any code blocks to highlight.\n             */\n            this.connect();\n        }\n        // Do not waste time reprocessing a block.\n        if (elem.hasAttribute('hljsl-id')) { return; }\n        /**\n         * This should have been added already but a deferred code block that the\n         * user wants to manually process will be missing this.\n         */\n        if (this.#hideNumbers) {\n            elem.parentElement.classList.add('hide-numbers');\n        }\n        await this.#correctPadding(elem);\n        /**\n         * This should have been added already but a deferred code block that the\n         * user wants to manually process will be missing this.\n         */\n        elem.parentElement.classList.add('hljs');\n        // eslint-disable-next-line no-param-reassign\n        elem.dataset.hljslId = this.createId();\n        const msg = {\n            code: elem.innerText,\n            codeLang: elem.classList.toString(),\n            id: elem.dataset.hljslId,\n            pageLang: this.#lang,\n            root: this.#root\n        };\n        // Message the web worker.\n        this.#worker.postMessage(JSON.stringify(msg));\n    }\n\n    /**\n     * Process all code blocks found within the provided container (element).\n     *\n     * @param {HTMLElement} container The code element to highlight.\n     */\n    highlightAll(container) {\n        // eslint-disable-next-line no-param-reassign\n        if (!container) { container = document; }\n        // Find all the code blocks in this element.\n        const codeBlocks = container.querySelectorAll('pre code');\n        codeBlocks.forEach((block) => {\n            // Process each code block found.\n            this.highlight(block);\n        });\n    }\n\n    /**\n     * Initializes HLJSL by determining its root location and checking for various options (settings).\n     */\n    #initialize() {\n        // Set the apps language.\n        this.#lang = this.getUserLanguage();\n        // Determine the root (directory) location of HLJSL.\n        this.#root = window?.location?.origin;\n        let hljsScriptSrc = '';\n        const scripts = document.getElementsByTagName('script');\n        for (let i = 0; i < scripts.length; i++) {\n            const { src } = scripts[i];\n            if (src.includes('/hljsl')) {\n                if (src.indexOf('?')) {\n                    hljsScriptSrc = src.substring(src.indexOf('?'));\n                }\n                this.#root = src.substring(0, src.indexOf('/hljsl'));\n                break;\n            }\n        }\n        // Check for and configure various options (settings).\n        const urlParams = new URLSearchParams(hljsScriptSrc);\n        if (urlParams.get('autoLoad')) {\n            this.#autoLoad = this.isTrue(urlParams.get('autoLoad'));\n        }\n        if (urlParams.get('hideNumbers')) {\n            this.#hideNumbers = this.isTrue(urlParams.get('hideNumbers'));\n        }\n        if (urlParams.get('lazyLoad')) {\n            this.#lazyLoad = this.isTrue(urlParams.get('lazyLoad'));\n        }\n    }\n\n    /**\n     * Check if HLJSL's Web worker is connected.\n     *\n     * @returns {boolean} Boolean indicating the web worker connection state; true is connected.\n     */\n    isConnected() {\n        return !(this.#worker === null);\n    }\n\n    /**\n     * Convert a string representing a boolean into an actual boolean.\n     *\n     * @param {string} str The string to convert to the correct boolean value.\n     * @returns\n     */\n    isTrue(str) {\n        if (typeof (str) === 'string') {\n            str = str.trim().toLowerCase();\n        }\n        switch (str) {\n            case true:\n            case 'true':\n            case 1:\n            case '1':\n            case 'on':\n            case 'yes':\n                return true;\n            default:\n                return false;\n        }\n    }\n\n    /**\n     * Automatically process code blocks according to the default or global settings.\n     */\n    #processBlocks() {\n        // We automatically fix all code block padding and show or hide line numbers no matter what.\n        document.body.querySelectorAll('pre code').forEach((block) => {\n            // Before fixing the padding check if we need to hide line numbers.\n            if (this.#hideNumbers) {\n                block.classList.add('hide-numbers');\n            }\n            this.#correctPadding(block);\n        });\n        // Now process the page according to the users settings.\n        const selector = this.getQuerySelectorNotWithinString('pre code', this.#ignoreElements);\n        const autoProcess = this.getQuerySelectorFindAllString(this.#onlyAutoProcess);\n        const elems = document.querySelectorAll(autoProcess);\n        elems.forEach((elem) => {\n            const blocks = elem.querySelectorAll(selector);\n            blocks.forEach(async (block) => {\n                block.parentElement.classList.add('hljs');\n                // Stop processing if autoLoad is false; we only fix the padding and spacing.\n                if (!this.#autoLoad) { return; }\n                // Process blocks now or lazy load them?\n                if (!this.#lazyLoad) {\n                    // Process blocks now.\n                    this.highlight(block);\n                    return;\n                }\n                // Lazy load blocks instead; recommended for pages with many code blocks.\n                const blockObserverOptions = {\n                    root: null,\n                    rootMargin: '100%',\n                    threshold: 0\n                };\n                const blockObserver = new IntersectionObserver(\n                    this.#blockInView.bind(this),\n                    blockObserverOptions\n                );\n                blockObserver.observe(block);\n            });\n        });\n    }\n\n    /**\n     * Receives the response from HLJSL's web worker.\n     *\n     * @param {MessageEvent} evt The response from HLJSL's web worker.\n     */\n    #receiveResponse(evt) {\n        const msg = JSON.parse(evt.data);\n        // Using the elements id to locate the actual element.\n        const elem = document.querySelector(`[data-hljsl-id=\"${msg.id}\"]`);\n        // Clean the response just in case an empty newline snuck in at the end.\n        elem.innerHTML = msg.code.trim();\n        // Place the code block on the same line as the pre block to remove those empty lines.\n        elem.parentElement.innerHTML = elem.outerHTML.trim();\n        /**\n         * Make sure the code block has a HLJS language tag. If it already does then this should be\n         * the same that was used during the processing. If you were missing the language tag this\n         * will be the language HLJS detected this code to be.\n         */\n        elem.classList.add(msg.language);\n    }\n\n    /**\n     * Allows changing the default settings being used by this instance of HLJSL.\n     *\n     * @param {object} config The settings you would like to set.\n     * @returns\n     */\n    setConfig(config) {\n        if (this.whatIs(config) !== 'object') { return; }\n\n        if (this.whatIs(config.autoLoad) === 'boolean') {\n            this.#autoLoad = config.autoLoad;\n        }\n\n        if (this.whatIs(config.hideNumbers) === 'boolean') {\n            this.#hideNumbers = config.hideNumbers;\n        }\n\n        if (this.whatIs(config.ignoreElements) === 'array') {\n            this.#ignoreElements = config.ignoreElements;\n        }\n\n        if (this.whatIs(config.lang) === 'string') {\n            this.#lang = config.lang;\n        }\n\n        if (this.whatIs(config.lazyLoad) === 'boolean') {\n            this.#lazyLoad = config.lazyLoad;\n        }\n\n        if (this.whatIs(config.onlyAutoProcess) === 'array') {\n            if (config.onlyAutoProcess.length > 0) {\n                this.#onlyAutoProcess = config.onlyAutoProcess;\n            }\n        }\n    }\n\n    /**\n     * Using a mutation observer watch for pre code blocks being added to the page\n     * and immediately start to process them.\n     */\n    #waitForBody() {\n        const bodyObserver = new MutationObserver((mutationList, observer) => {\n            for (let i = 0; i < mutationList.length; i++) {\n                const mutation = mutationList[i];\n                // Do no process unnecessary events; ignores attribute events.\n                if (mutation.type !== 'childList') {\n                    // eslint-disable-next-line no-continue\n                    continue;\n                }\n                // Skip all elements that are not the body.\n                if (mutation.target.nodeName !== 'BODY') {\n                    // eslint-disable-next-line no-continue\n                    continue;\n                }\n                /**\n                 * Stop the observer to reduce resource use on this page. If any\n                 * code blocks are added later the user will need to manually\n                 * call the `highlight` or `highlightAll` methods.\n                 */\n                observer.disconnect();\n                /**\n                 * Body element has been added to the DOM so search it and process\n                 * all the code blocks found inside it.\n                 */\n                this.#processBlocks();\n                return; // Kill the loop so we don't trigger another reprocessing!\n            }\n        });\n        // Start the observer.\n        bodyObserver.observe(document.documentElement, { childList: true, subtree: true });\n    }\n\n    /**\n     * The fastest way to get the actual type of anything in JavaScript.\n     *\n     * {@link https://jsbench.me/ruks9jljcu/2 | See benchmarks}.\n     *\n     * @param {*} unknown Anything you wish to check the type of.\n     * @return {string|undefined} The type in lowercase of the unknown value passed in or undefined.\n     */\n    whatIs(unknown) {\n        try {\n            return ({}).toString.call(unknown).match(/\\s([^\\]]+)/)[1].toLowerCase();\n        } catch (e) { return undefined; }\n    }\n\n}\n\n// Primary instance of HLJSL that auto precesses the page.\nwindow.hljsl = new HighlightLite();\n\n// Rollup will create an iife adding HighlightLite globally to the window as HLJSL.\nexport default HighlightLite;\n"],"names":["autoRunCompleted","HighlightLite","autoLoad","hideNumbers","ignoreElements","lang","lazyLoad","onlyAutoProcess","root","worker","version","constructor","config","this","initialize","Object","keys","length","checkForGlobalConfig","setConfig","waitForBody","blockInView","entries","observer","forEach","entry","isIntersecting","disconnect","highlight","target","globalConfig","window","hljslConfig","createId","Date","now","toString","Math","random","substring","toUpperCase","connect","Worker","onmessage","receiveResponse","bind","copyToClipboard","button","table","nextElementSibling","nodeName","ariaPressed","classList","add","cells","querySelectorAll","tmpDiv","document","createElement","cell","textContent","navigator","clipboard","writeText","trimEnd","catch","error","console","setTimeout","remove","async","elem","contains","indentation","doIndentation","lines","innerText","split","line","i","match","join","terminate","getAutoRunStatus","getQuerySelectorFindAllString","find","getQuerySelectorNotWithinString","notWithin","getUserLanguage","userLanguage","language","htmlLang","documentElement","test","getVersion","isConnected","hasAttribute","parentElement","correctPadding","dataset","hljslId","msg","code","codeLang","id","pageLang","postMessage","JSON","stringify","highlightAll","container","block","location","origin","hljsScriptSrc","scripts","getElementsByTagName","src","includes","indexOf","urlParams","URLSearchParams","get","isTrue","str","trim","toLowerCase","processBlocks","body","selector","autoProcess","IntersectionObserver","rootMargin","threshold","observe","evt","parse","data","querySelector","innerHTML","outerHTML","whatIs","MutationObserver","mutationList","mutation","type","childList","subtree","unknown","call","e","hljsl"],"mappings":"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"}